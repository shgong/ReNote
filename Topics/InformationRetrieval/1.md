
# Preface

Information retrieval (IR) is finding material (usually documents) of
an unstructured nature (usually text) that satisfies an information need
from within large collections (usually stored on computers).

# 1. Boolean Retrieval

## 1.1 Example IR problem

- Shakespeare's Collected Works
  - find which play contains Brutus & Caesar & !Calpurnia
  - simplest: linear search
  - more requirements
    - flexible match (distance of related words)
    - best match (ranked)
- Build Matrix
  - Index to avoid linearly scanning texts
  - record whether each document contains a word
    - Binary term-document incidence matrix

    ||Antony and Cleopatra|Julius Caesar|The Tempest|Hamlet|Othello|Macbeth
    |---|---|---|---|---|---|---
    |Antony|1|1|0|0|0|1
    |Brutus|1|1|0|1|0|0
    |Caesar|1|1|0|1|1|1
    |mercy|1|0|1|1|1|1

  - To answer which play contains Brutus & Caesar & !Calpurnia
    - take the vector, complement if not, do a bitwise AND
    - 110100 AND 110111 AND 101111


- Scale up
  - N=1m, ~1000 words, ~6 bytes(including spaces) => 6GB corpus
  - 500k distinct terms inside
- Effectiveness
  - Precision(how relevant are positives): tp/(tp+fp)
  - Recall(how good to detect positive): fn/(tp+fn)
  - specificity(how good to avoid false positive): tn/(tn+fp)
- We cannot build 500k x 1m matrix to fit memory
- Inverted Index
  - first major concept in IR
  - keep a dictionary of terms, each term have a list of document it occurs, sort by docID

## 1.2. Inverted Index
- Generation
  - docID
  - sorted term dictionary, each has a posting list
  - also keep stats like document frequency, length of posting list
- Result
  - Dictionary: keep in memory
  - Posting list
    - memory: singly linked list / variable length array => skip lists
    - if infrequent update: hybrid scheme of linked list of fixed length array
    - disk: contiguous run of postings without explicit pointers


## 1.3 Processing Boolean Queries

- Simple conjunctive queries
  - find doc that contains both terms
    - posting list intersection
    - posting merge: two traverse on posting, each step move pointer on the smaller docId
  - multiple terms
    - process smaller posting list first to reduce intermediate expression size


## 1.4 Extended Boolean model vs Ranked Retrieval

- ranked retrieval model
  - like vector space model
  - query with free text (search engine)

## Example 1.1 Commericial Boolean Search: Westlaw

- largest commercial legal search service from 1975
- use boolean search (Terms and Connectors) until 2005

```
# Prevent former employee disclose trade secret
Query: "trade secret" /s disclos! /s prevent /s employe!

# host's responsibility for drunk guests
Query: host! /p (responsib! liab!) /p (intoxicat! drunk!) /p guest

/s /p /k, AND, same sentence, paragraph, within k words
! trailing wildcard query
```


# 2. Term vocabulary and posting list

## 2.1 Document delineation and character sequence decoding

### 2.1.1 Char Sequence

- determine the encoding (a classification problem)
  - ASCII
  - Unicode UTF-8
  - Various national / vendor-specific standards
- decode out of binary representations
  - zip compression
  - MS Word file
  - plain text char entities
    - XML &amp
- extract text out of structure
  - pdf, postscript
- char sequence also questioned by some writing systems
  - like Arabic
  - from right to left, with complex mutations

### 2.1.2 Doc Unit

- Determine granularity
- email
  - thread or message
- single document or multiple pages
  - powerpoint or LATEX
- book
  - chapter, book, passages


## 2.2 Determine vocabulary of terms

### 2.2.1 Tokenization

- What correct token to use
  - like `O'neil` and `aren't`
- This issues of tokenization are language-specific

- language identifications
  - languages C++ and C#
  - aircraft names B-52
  - url jblack@gmail.com
  - IP addr 142.32.48.231

- hyphen
  - join vowels `co-education`
  - word grouping `the hold-him-back maneuver`
  - word connecting `New York-San Francisco`
  - alternate writing `lowercase` vs `lower-case`

- different languages
  - French
    - use apostrophe for article before vowel word `l'ensemble`
    - or its full form `un emsemble`
    - use hyphen with postposed clitic pronouns in imperatives and questions `donne-moi, give me`
  - German
    - compound nouns without spaces
      - `Computerlinguistik` Computational linguistics
      - `Lebensversicherungsgesellschaftsangestellter` Life insurance company employee
    - better with a compound-splitter module
  - East asian languages CJKThai
    - text written without any spaces between words
    - need word segmentation
    - ambiguity, like `和尚` means `monk` or `and/still`

### 2.2.2 Dropping common terms: stop words

- stop list, like `of`, `the`, `we`
- may ignore some phrases full of stop words
  - Vannevar Bush's article `As we may think`
  - Shakespeare `To be or not to be`
- IR systems evolves from 200-300 stop words => 7-12 => no stop word over time

### 2.2.3 Normalization
- two main approach
  - mapping rules
    - implicitly create equivalent classes
    - `USA` and `U.S.A`
    - you may not add characters like `antidiscriminatory` => `anti-discriminatory`
  - maintain relations between unnormalized tokens
    - maintain query expansion list, more flexible
    - automobile => car
    - windows, Windows => window, Windows => operation system
    - USA => U.S.A.

- common practice
