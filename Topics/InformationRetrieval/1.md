
# Preface

Information retrieval (IR) is finding material (usually documents) of
an unstructured nature (usually text) that satisfies an information need
from within large collections (usually stored on computers).

# 1. Boolean Retrieval

## 1.1 Example IR problem

- Shakespeare's Collected Works
  - find which play contains Brutus & Caesar & !Calpurnia
  - simplest: linear search
  - more requirements
    - flexible match (distance of related words)
    - best match (ranked)
- Build Matrix
  - Index to avoid linearly scanning texts
  - record whether each document contains a word
    - Binary term-document incidence matrix

    ||Antony and Cleopatra|Julius Caesar|The Tempest|Hamlet|Othello|Macbeth
    |---|---|---|---|---|---|---
    |Antony|1|1|0|0|0|1
    |Brutus|1|1|0|1|0|0
    |Caesar|1|1|0|1|1|1
    |mercy|1|0|1|1|1|1

  - To answer which play contains Brutus & Caesar & !Calpurnia
    - take the vector, complement if not, do a bitwise AND
    - 110100 AND 110111 AND 101111


- Scale up
  - N=1m, ~1000 words, ~6 bytes(including spaces) => 6GB corpus
  - 500k distinct terms inside
- Effectiveness
  - Precision(how relevant are positives): tp/(tp+fp)
  - Recall(how good to detect positive): fn/(tp+fn)
  - specificity(how good to avoid false positive): tn/(tn+fp)
- We cannot build 500k x 1m matrix to fit memory
- Inverted Index
  - first major concept in IR
  - keep a dictionary of terms, each term have a list of document it occurs, sort by docID

## 1.2. Inverted Index
- Generation
  - docID
  - sorted term dictionary, each has a posting list
  - also keep stats like document frequency, length of posting list
- Result
  - Dictionary: keep in memory
  - Posting list
    - memory: singly linked list / variable length array => skip lists
    - if infrequent update: hybrid scheme of linked list of fixed length array
    - disk: contiguous run of postings without explicit pointers


## 1.3 Processing Boolean Queries

- Simple conjunctive queries
  - find doc that contains both terms
    - posting list intersection
    - posting merge: two traverse on posting, each step move pointer on the smaller docId
  - multiple terms
    - process smaller posting list first to reduce intermediate expression size


## 1.4 Extended Boolean model vs Ranked Retrieval

- ranked retrieval model
  - like vector space model
  - query with free text (search engine)

## Example 1.1 Commericial Boolean Search: Westlaw

- largest commercial legal search service from 1975
- use boolean search (Terms and Connectors) until 2005

```
# Prevent former employee disclose trade secret
Query: "trade secret" /s disclos! /s prevent /s employe!

# host's responsibility for drunk guests
Query: host! /p (responsib! liab!) /p (intoxicat! drunk!) /p guest

/s /p /k, AND, same sentence, paragraph, within k words
! trailing wildcard query
```


# 2. Term vocabulary and posting list

## 2.1 Document delineation and character sequence decoding

### 2.1.1 Char Sequence

- determine the encoding (a classification problem)
  - ASCII
  - Unicode UTF-8
  - Various national / vendor-specific standards
- decode out of binary representations
  - zip compression
  - MS Word file
  - plain text char entities
    - XML &amp
- extract text out of structure
  - 
